%div{class: "container flex flex-col mx-auto px-6 py-8 flex flex-col w-full items-center"}
  -# Container for class banner. Change image_tag code to a link to the image file of each class
  %div{class: "container-banner flex w-full h-40 bg-cover"}
    -# = @group.img
    = image_tag "MathClassBanner.png", :class => 'rounded flex-shrink-0 min-w-full min-h-full shadow'
  -# Class Details
  %p#notice= notice
  %div{class:"flex items-between justify-center gap-2 w-full my-8"}
    %div{class: "flex flex-col gap-2 w-full text-3xl"}
      %span{class: "text-3xl font-bold"}= @group.name
      %div{class: "flex flex-col md:flex-row text-xl gap-3"}
        %span{class: "text-gray-500"} Teacher:
        %span= @teacher.fullname
      %div{class: "flex flex-col md:flex-row text-xl gap-3"}
        %span{class: "text-base text-gray-500"}Description: 
        %span{class: "text-base"}= @group.description
    %div{class: "flex justify-center gap-2"}
      = link_to edit_group_path(@group), :class => "w-40 text-white flex self-center px-8 py-1 rounded bg-my-blue hover:bg-my-blue hover:opacity-80 flex items-center justify-center transition duration-250" do 
        %span{class: "text-white text-base"} Edit Group
      = link_to @group, :method => :delete, :data => { :confirm => 'Are you sure?' }, :class => "w-40 text-white flex gap-2 self-center px-8 w-32 py-1 rounded bg-red-400 hover:bg-my-blue hover:opacity-80 flex items-center justify-center transition duration-250" do 
        %span{class: "text-white text-base"} Delete Group

  .-my-2.py-2.overflow-x-auto{:class => "sm:-mx-6.sm:px-6.lg:-mx-8.lg:px-8 w-full "}
    .align-middle.inline-block.min-w-full.shadow.overflow-hidden{:class => "sm:rounded-lg.border-b.border-gray-200 w-full"}
      %table.min-w-full
        %thead
          %tr
            %th.px-6.py-3.border-b.border-gray-200.bg-my-teal.font-bold.text-white.text-left.text-xs.leading-4.font-medium.uppercase.tracking-wider
              Assignment Title
            %th.px-6.py-3.border-b.border-gray-200.bg-my-teal.font-bold.text-white.text-left.text-xs.leading-4.font-medium.uppercase.tracking-wider
              Status
            %th.px-6.py-3.border-b.border-gray-200.bg-my-teal.font-bold.text-white.text-left.text-xs.leading-4.font-medium.uppercase.tracking-wider
              No. of Submissions
            %th.px-6.py-3.border-b.border-gray-200.bg-my-teal.font-bold.text-white.text-left.text-xs.leading-4.font-medium.uppercase.tracking-wider
              Action
        %tbody{class: "bg-white"}
          - for assignment in @group.assignments
            %tr
              %td.px-6.py-4.whitespace-no-wrap.border-b.border-gray-200
                .flex.items-center
                  .ml-4
                    .text-sm.leading-5.font-medium.text-gray-900
                      =assignment.title
                    .text-sm.leading-5.text-gray-500 
              %td.px-6.py-4.whitespace-no-wrap.border-b.border-gray-200
                %span.px-2.inline-flex.text-xs.leading-5.font-semibold.rounded-full.bg-green-100.text-green-800 Ongoing
              -# Insert Number of Submissions Code
              %td.px-6.py-4.whitespace-no-wrap.border-b.border-gray-200.text-sm.leading-5.text-gray-500
                = assignment.assignment_submissions.count
              -# Insert View Assignment Code
              %td.px-6.py-4.whitespace-no-wrap.border-b.border-gray-200.text-sm.leading-5.text-gray-500.flex.gap-4
                =link_to "View / Submit", group_assignment_path(@group, assignment) 
      = link_to new_group_assignment_path(@group), :class => "text-center self-start hover:bg-transparent" do 
        %div{class: "Create-new-assignment bg-gray-500 shadow rounded px-2 py-1 text-white hover:bg-my-blue transition-colors duration-250"}
          %span{class: "text-lg"}Create  Assignment   
              
  %div{class: "sm:-mx-6.sm:px-6.lg:-mx-8.lg:px-8 w-full -my-2 py-2 overflow-x-auto mt-8"}
    %div{class: "sm:rounded-lg.border-b.border-gray-200 w-full align-middle inline-block min-w-full shadow overflow-hidden"}
      %div{class: "px-6 py-3 border-b border-gray-200 bg-my-teal text-white font-bold text-left text-xs leading-4 font-medium uppercase tracking-wider" }
        %h1{class: ""} Posts
      %div{class: "px-6 py-3 border-b border-gray-200 bg-gray-50 text-white font-bold text-left text-xs leading-4 font-medium uppercase tracking-wider" }
        = render 'posts/form'
      %div{class: "px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 tracking-wider" }
        - @posts.each do |post|
          %div{class: "mx-4 my-2 md:mx-auto w-auto rounded-lg shadow-lg bg-white flex"}
            %div{class: "px-4 py-6 flex items-start"}
              %div{class: "w-10 h-10 mr-4"}
                %img{class: "rouned-full shadow object-cover", src: "http://source.unsplash.com/800x800"}
              %div{class: "w-full"}
                %div{class: "flex items-center justify-start"}
                  %h2{class: "-mt-1 mr-1 text-base text-gray-900 font-semibold"}= post.user.fullname 
                  %small{class: "text-sm text-gray-700"}
                    to #{post.group.name}
                %div{class: "text-sm text-gray-500 lowercase"}
                  = time_ago_in_words(post.created_at)
                  ago 
                %div{class: "mt-3 text-sm text-gray-700"}= post.content 
                %div{class: "mt-4 flex items-center"}
                  %div{class: "mr-4 text-sm text-gray-400 flex items-center"}
                    = post.comments.count 
                    comments

%br
%h1 Add student
= render 'class_students/index'
= render 'class_students/form'
= link_to 'Back to Classes', group_path(@group), class: "m-8"
